var expect  = require('chai').expect;
var request = require('request');

describe('Web crawler', function () {
    it('http://localhost:3001/url/http://www.arstechnica.com', function(done) {
        request('http://localhost:3001/url/http://www.arstechnica.com' , function(error, response, body) {
            expect(body).to.equal('{"http://www.arstechnica.com":true}{"http://www.arstechnica.com":true,"http://www.arstechnica.com/affiliate-link-policy/":true}{"http://www.arstechnica.com":true}{"http://www.arstechnica.com":true,"http://www.arstechnica.com/affiliate-link-policy/":true,"http://www.arstechnica.com/amendment-to-conde-nast-user-agreement-privacy-policy/":true}{"http://www.arstechnica.com":true,"http://www.arstechnica.com/affiliate-link-policy/":true}{"http://www.arstechnica.com":true,"http://www.arstechnica.com/affiliate-link-policy/":true,"http://www.arstechnica.com/amendment-to-conde-nast-user-agreement-privacy-policy/":true,"http://www.arstechnica.com/reprints/":true}{"http://www.arstechnica.com":true,"http://www.arstechnica.com/affiliate-link-policy/":true,"http://www.arstechnica.com/amendment-to-conde-nast-user-agreement-privacy-policy/":true}{"http://www.arstechnica.com":true,"http://www.arstechnica.com/affiliate-link-policy/":true,"http://www.arstechnica.com/amendment-to-conde-nast-user-agreement-privacy-policy/":true,"http://www.arstechnica.com/reprints/":true,"http://www.arstechnica.com/advertise-with-us/":true}{"http://www.arstechnica.com":true}{"http://www.arstechnica.com":true,"http://www.arstechnica.com/affiliate-link-policy/":true,"http://www.arstechnica.com/amendment-to-conde-nast-user-agreement-privacy-policy/":true,"http://www.arstechnica.com/reprints/":true}{"http://www.arstechnica.com":true,"http://www.arstechnica.com/affiliate-link-policy/":true,"http://www.arstechnica.com/amendment-to-conde-nast-user-agreement-privacy-policy/":true,"http://www.arstechnica.com/reprints/":true,"http://www.arstechnica.com/advertise-with-us/":true,"http://www.arstechnica.com/staff-directory/":true}{"http://www.arstechnica.com":true,"http://www.arstechnica.com/affiliate-link-policy/":true}{"http://www.arstechnica.com":true,"http://www.arstechnica.com/affiliate-link-policy/":true,"http://www.arstechnica.com/amendment-to-conde-nast-user-agreement-privacy-policy/":true,"http://www.arstechnica.com/reprints/":true,"http://www.arstechnica.com/advertise-with-us/":true}{"http://www.arstechnica.com":true,"http://www.arstechnica.com/affiliate-link-policy/":true,"http://www.arstechnica.com/amendment-to-conde-nast-user-agreement-privacy-policy/":true,"http://www.arstechnica.com/reprints/":true,"http://www.arstechnica.com/advertise-with-us/":true,"http://www.arstechnica.com/staff-directory/":true,"http://www.arstechnica.com/contact-us/":true}');
            done();
        });
    });
})
